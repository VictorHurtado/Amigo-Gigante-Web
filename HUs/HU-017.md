# HU-017 — Interfaz de login de fundación (UI)

**Como** usuario de una fundación  
**Quiero** ver y usar una página de login visualmente atractiva y bien estructurada  
**Para** acceder a mi cuenta en la plataforma Amigo Gigante

---

## Dependencias

- HU-005 (MUI configurado)
- HU-007 (Tailwind configurado)
- HU-008 (Design System centralizado)
- HU-009 (Logo en navbar)
- HU-010 (Atomic Design - componentes reutilizables, si aplica)
- HU-016 (Sistema de traducciones configurado)

---

## Contexto / Notas

- Esta HU es **solo diseño/UI**: no incluye lógica de autenticación ni integración con backend.
- El formulario debe seguir el diseño proporcionado en `docs/design/code_login_screen.html` y `docs/design/login_screen.png`.
- El diseño de referencia usa colores diferentes al Design System actual (`primary: #2ce9ed` vs `brand: #1cb0f6`). Se debe adaptar al Design System existente usando tokens (`brand-500`, `accent-500`, `neutral-*`).
- El formulario debe ser responsive: layout de dos columnas en desktop (lg+), una columna en móvil/tablet.
- La ruta `/login` ya está definida como pública en el middleware (HU-013).
- **IMPORTANTE**: Al crear la rama para el PR, usar el nombre: `HU-017 - Implementación del login`

---

## Diseño

Referencias:
- Diseño: `docs/design/code_login_screen.html`
- Imagen: `docs/design/login_screen.png`
- Design System: `docs/design/system.md`

Estructura del diseño:
- **Layout de dos columnas** (desktop lg+):
  - Columna izquierda: imagen con overlay y contenido motivacional
  - Columna derecha: formulario de login
- **Layout de una columna** (móvil/tablet): solo formulario
- **Header**: Logo + "Amigo Gigante" + navegación (Home, About, Contact) + botón "Register Foundation" + menú hamburguesa (móvil)
- **Formulario**:
  - Título: "Welcome back, Partner"
  - Subtítulo: "Log in to manage your adoptions and sponsorships"
  - Campo Email con icono de mail
  - Campo Password con icono de lock y toggle de visibilidad
  - Link "Forgot Password?"
  - Badge "Secure SSL encrypted login" con icono
  - Botón "Log In"
  - Link "New to Amigo Gigante? Register your foundation"
- **Columna izquierda (desktop)**:
  - Imagen de fondo (golden retriever)
  - Overlay con gradiente oscuro
  - Badge "Adopt & Care" con icono
  - Título "Every paw matters."
  - Texto descriptivo sobre fundaciones

Reglas:
- Usar tokens del Design System (`brand-500`, `neutral-*`, etc.).
- Adaptar colores del diseño de referencia al Design System existente.
- Mantener la estructura visual y jerarquía del diseño.
- Los inputs deben tener estados de focus visibles.
- El toggle de mostrar/ocultar contraseña debe funcionar visualmente.
- **TODOS los textos deben usar traducciones** (español e inglés).

---

## Alcance

Incluye:
- Crear página/ruta de login (`/login`)
- Implementar layout de dos columnas (responsive)
- Crear formulario con campos Email y Password
- Implementar header con logo, navegación y botón de registro
- Implementar columna izquierda con imagen y overlay (solo desktop)
- Implementar estados visuales de inputs (focus, hover)
- Implementar toggle de mostrar/ocultar contraseña (solo UI, sin lógica)
- Adaptar colores al Design System existente
- Hacer el formulario responsive (móvil, tablet, desktop, ultra-wide)
- **Agregar traducciones** en `src/messages/es/login.json` y `src/messages/en/login.json`
- Usar `useTranslations` de `next-intl` en todos los componentes

No incluye:
- Validación de formulario
- Integración con Supabase Auth
- Lógica de autenticación real
- Navegación funcional (los links pueden ser placeholders)
- Lógica de envío de formulario
- Manejo de errores
- Mensajes de éxito/error
- Funcionalidad de "Forgot Password" (solo UI)

---

## Criterios de aceptación (Given / When / Then)

### 1) Página de login creada

- **Dado** que necesito acceder al formulario de login
- **Cuando** navego a la ruta `/login`
- **Entonces** veo la página de login completa
- **Y** la página se carga sin errores

---

### 2) Layout responsive implementado

- **Dado** que estoy en la página de login
- **Cuando** visualizo en desktop (≥1024px)
- **Entonces** veo el layout de dos columnas:
  - Imagen con overlay a la izquierda (50% del ancho)
  - Formulario a la derecha (50% del ancho)
- **Y** cuando visualizo en móvil/tablet (<1024px)
- **Entonces** veo solo el formulario (columna completa)
- **Y** la imagen izquierda está oculta
- **Y** el layout es responsive hasta ultra-wide (2560px+)

---

### 3) Header implementado

- **Dado** que estoy en la página de login
- **Cuando** observo el header
- **Entonces** veo:
  - Logo de Amigo Gigante (círculo azul con logo centrado)
  - Texto "Amigo Gigante"
  - Enlaces de navegación (Home, About, Contact) - solo desktop
  - Botón "Register Foundation" - solo desktop
  - Menú hamburguesa - solo móvil/tablet
- **Y** el header tiene backdrop blur y borde inferior
- **Y** los enlaces tienen efecto hover

---

### 4) Formulario completo implementado

- **Dado** que estoy en la página de login
- **Cuando** observo el formulario
- **Entonces** veo todos los elementos:
  - Título "Welcome back, Partner"
  - Subtítulo descriptivo
  - Campo Email con icono de mail y placeholder
  - Campo Password con icono de lock, placeholder y botón de mostrar/ocultar
  - Link "Forgot Password?" alineado a la derecha
  - Badge "Secure SSL encrypted login" con icono
  - Botón "Log In" con estilo primario
  - Link "New to Amigo Gigante? Register your foundation"
- **Y** los campos tienen placeholders apropiados
- **Y** los labels están correctamente asociados

---

### 5) Estados visuales de inputs

- **Dado** que estoy en el formulario
- **Cuando** hago focus en un input
- **Entonces** el borde cambia de color (usando `brand-500` o `primary.main`)
- **Y** se muestra un ring de focus
- **Y** cuando hago hover sobre inputs
- **Entonces** hay un cambio visual sutil

---

### 6) Toggle de contraseña funcional (UI)

- **Dado** que estoy en el campo de contraseña
- **Cuando** hago clic en el botón de mostrar/ocultar
- **Entonces** el icono cambia (visibility ↔ visibility_off)
- **Y** el tipo de input cambia visualmente (password ↔ text)
- **Nota**: Esto es solo UI, no requiere lógica de estado compleja

---

### 7) Columna izquierda con imagen (desktop)

- **Dado** que estoy en desktop
- **Cuando** observo la columna izquierda
- **Entonces** veo:
  - Imagen de fondo (golden retriever en parque)
  - Overlay con gradiente oscuro (from-black/40 to-transparent)
  - Badge "Adopt & Care" con icono de pets
  - Título "Every paw matters."
  - Texto descriptivo sobre fundaciones
- **Y** el contenido está posicionado en la parte inferior izquierda
- **Y** la imagen tiene efecto hover (zoom sutil)

---

### 8) Traducciones implementadas

- **Dado** que se implementa la página de login
- **Cuando** se revisa el código
- **Entonces** todos los textos usan `useTranslations` de `next-intl`
- **Y** existen archivos:
  - `src/messages/es/login.json` con todas las traducciones en español
  - `src/messages/en/login.json` con todas las traducciones en inglés
- **Y** las keys son consistentes entre ambos idiomas
- **Y** no hay textos hardcodeados en español o inglés

---

### 9) Uso del Design System

- **Dado** que se implementa el formulario
- **Cuando** se revisa el código
- **Entonces** se usan tokens del Design System:
  - `bg-brand-500` o `primary.main` para botones primarios
  - `neutral-*` para textos y bordes
  - `rounded-lg` para bordes redondeados
  - Tokens de spacing y tipografía
- **Y** no hay colores hardcodeados fuera de los tokens

---

### 10) Responsividad completa

- **Dado** que estoy en la página de login
- **Cuando** cambio el tamaño de la ventana
- **Entonces** el layout se adapta correctamente en:
  - Móvil (320px - 767px)
  - Tablet (768px - 1023px)
  - Desktop (1024px - 1919px)
  - Large Desktop (1920px - 2559px)
  - Ultra-wide (2560px+)
- **Y** todos los elementos son legibles y accesibles
- **Y** no hay overflow horizontal

---

## Reglas técnicas

### Arquitectura
- Presentation solo consume UseCases vía IoC (no importa repositorios concretos).
- Domain no importa React/Next/MUI/Tailwind/Inversify.
- Infrastructure contiene implementaciones y wiring IoC.
- **Esta HU es solo Presentation**: no toca Domain ni Infrastructure.

### UI
- Usar MUI para componentes base (TextField, Button, IconButton, etc.).
- Tailwind se usa para layout/spacing/responsive utilities.
- Usar tokens del Design System (`brand-500`, `accent-500`, `neutral-*`).
- Adaptar colores del diseño de referencia al Design System existente.
- Los componentes deben ser reutilizables cuando sea posible (seguir Atomic Design si ya está implementado).

### Responsive
- Breakpoint principal: `lg` (1024px) para mostrar/ocultar columna izquierda.
- Usar `hidden lg:flex` para columna izquierda.
- Formulario debe ser responsive en todos los tamaños (móvil a ultra-wide).
- Usar `Container` de MUI con `maxWidth` apropiado.
- Padding y spacing adaptativos según breakpoint.

### Traducciones (OBLIGATORIO)
- **TODOS los textos visibles en la UI deben estar traducidos** (español e inglés).
- Usar el sistema de traducciones configurado en HU-016 (`next-intl`).
- Agregar traducciones en:
  - `src/messages/es/login.json` (español)
  - `src/messages/en/login.json` (inglés)
- Organizar traducciones por secciones: `header`, `form`, `leftColumn`, etc.
- **NO hardcodear textos en español o inglés** en componentes.
- Usar `useTranslations('login')` hook de `next-intl` para acceder a traducciones.
- Keys descriptivas y anidadas: `login.form.title`, `login.form.email.label`, etc.
- Mantener consistencia: mismas keys en ambos idiomas.

### Dependencias / Paquetes
- No agregar dependencias nuevas salvo que esta HU lo indique explícitamente.
- Si aparece error 403/conectividad:
  1) Detenerse
  2) Pedir dominios requeridos
  3) Explicar por qué se requieren
  4) No continuar

### Git / Branching
- **Al crear la rama para el PR, usar el nombre**: `HU-017 - Implementación del login`
- Ejemplo: `git checkout -b "HU-017 - Implementación del login"`

---

## Implementación sugerida

### Estructura de archivos sugerida:
```
src/app/login/
└── page.tsx                    # Página de login

src/presentation/components/login/
├── LoginHeader.tsx             # Header con logo y navegación
├── LoginForm.tsx               # Formulario principal
├── LoginImageSection.tsx       # Columna izquierda con imagen
└── PasswordInput.tsx           # Input de contraseña con toggle (si es reutilizable)

src/messages/
├── es/
│   └── login.json              # Traducciones en español
└── en/
    └── login.json              # Traducciones en inglés
```

### Componentes principales:

1. **LoginPage** (`src/app/login/page.tsx`):
   - Layout de dos columnas
   - Integra LoginHeader, LoginForm, LoginImageSection
   - Responsive: oculta columna izquierda en móvil

2. **LoginHeader**:
   - Logo + "Amigo Gigante"
   - Navegación (Home, About, Contact) - solo desktop
   - Botón "Register Foundation" - solo desktop
   - Menú hamburguesa - solo móvil

3. **LoginForm**:
   - Título y subtítulo
   - Campo Email con icono
   - Campo Password con icono y toggle
   - Link "Forgot Password?"
   - Badge de seguridad
   - Botón de login
   - Link a registro

4. **LoginImageSection**:
   - Solo visible en desktop (lg+)
   - Imagen de fondo con `next/image`
   - Overlay con gradiente
   - Contenido motivacional (badge, título, texto)

### Estructura de traducciones sugerida:

**src/messages/es/login.json:**
```json
{
  "header": {
    "home": "Inicio",
    "about": "Acerca de",
    "contact": "Contacto",
    "registerFoundation": "Registrar Fundación"
  },
  "form": {
    "title": "Bienvenido de nuevo, Socio",
    "subtitle": "Inicia sesión para gestionar tus adopciones y apadrinamientos",
    "email": {
      "label": "Dirección de Email",
      "placeholder": "name@foundation.org"
    },
    "password": {
      "label": "Contraseña",
      "placeholder": "••••••••"
    },
    "forgotPassword": "¿Olvidaste tu contraseña?",
    "secureLogin": "Inicio de sesión seguro SSL encriptado",
    "submit": "Iniciar Sesión",
    "newUser": "¿Nuevo en Amigo Gigante?",
    "registerLink": "Registra tu fundación"
  },
  "leftColumn": {
    "badge": "Adopta y Cuida",
    "title": "Cada pata importa.",
    "description": "Únete a más de 500 fundaciones haciendo la diferencia en la vida de los animales cada día."
  }
}
```

**src/messages/en/login.json:**
```json
{
  "header": {
    "home": "Home",
    "about": "About",
    "contact": "Contact",
    "registerFoundation": "Register Foundation"
  },
  "form": {
    "title": "Welcome back, Partner",
    "subtitle": "Log in to manage your adoptions and sponsorships",
    "email": {
      "label": "Email Address",
      "placeholder": "name@foundation.org"
    },
    "password": {
      "label": "Password",
      "placeholder": "••••••••"
    },
    "forgotPassword": "Forgot Password?",
    "secureLogin": "Secure SSL encrypted login",
    "submit": "Log In",
    "newUser": "New to Amigo Gigante?",
    "registerLink": "Register your foundation"
  },
  "leftColumn": {
    "badge": "Adopt & Care",
    "title": "Every paw matters.",
    "description": "Join over 500 foundations making a difference in the lives of animals every day."
  }
}
```

### Notas de implementación:
- Usar `next/image` para la imagen de la columna izquierda.
- El botón de mostrar/ocultar contraseña puede usar estado local simple (`useState`).
- Los links pueden ser placeholders (`href="#"` o `href="/register"`).
- Adaptar colores: el diseño usa `#2ce9ed` pero debemos usar `brand-500` del Design System.
- El header debe tener backdrop blur similar al HomeNavBar.
- La imagen debe tener efecto hover de zoom sutil (usar `group` y `group-hover:scale-105`).

---

## Validación

Comandos mínimos:
- `npm run dev` (verificar que la página se carga correctamente)
- `npm run build` (verificar que no hay errores de compilación)

Verificaciones visuales:
- El formulario se ve igual al diseño de referencia (adaptado al Design System)
- El layout es responsive (dos columnas en desktop, una en móvil)
- Los estados de focus funcionan correctamente
- El toggle de contraseña cambia el icono y tipo de input
- Todos los elementos están correctamente alineados
- Los colores usan tokens del Design System
- Las traducciones funcionan correctamente (cambiar idioma y verificar)
- No hay textos hardcodeados

---

## Definición de Hecho

- [ ] Criterios de aceptación cumplidos
- [ ] `npm run dev` OK
- [ ] `npm run build` OK
- [ ] Página de login creada y accesible en `/login`
- [ ] Layout responsive implementado (móvil a ultra-wide)
- [ ] Formulario completo con todos los campos
- [ ] Estados visuales de inputs funcionando
- [ ] Toggle de contraseña funcional (UI)
- [ ] Columna izquierda implementada (desktop)
- [ ] Header implementado con navegación
- [ ] Link a registro implementado
- [ ] Uso correcto de tokens del Design System
- [ ] **Traducciones incluidas**:
  - [ ] Textos agregados en `src/messages/es/login.json`
  - [ ] Textos agregados en `src/messages/en/login.json`
  - [ ] Componentes usan `useTranslations` (no textos hardcodeados)
  - [ ] Keys consistentes entre idiomas
- [ ] Sin violaciones de capas
- [ ] Sin cambios fuera del alcance
- [ ] Rama creada con nombre: `HU-017 - Implementación del login`
- Commit sugerido:
  `feat: add foundation login page UI`

